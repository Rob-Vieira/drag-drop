"use strict";function DragDrop(e={scrollZone:100,scrollSpeed:5,draggingClass:"",cloneClass:"",onDragBeforeStart(e){},onDragStart(e,t){},onDragMove(e,t){},onDragBeforeEnd(e,t){},onDragEnd(e){}}){let t=document.createElement("div"),n=document.createElement("div"),i=t,l=t.getBoundingClientRect(),r=null,a=e.scrollZone,o=e.scrollSpeed,s=t,g=t,d=0,c=0;function u(t){if(e.onDragBeforeStart({event:t}),!t.target.hasAttribute("data-drag-item")||t.target.hasAttribute("data-drag-disabled"))return;s=(g=t.target).parentElement,l=(i=E(g.parentElement)).getBoundingClientRect();let r=g.getBoundingClientRect().width,a=g.getBoundingClientRect().height;d=t.clientY-g.getBoundingClientRect().top,c=t.clientX-g.getBoundingClientRect().left,""!==e.cloneClass&&n.classList.add(e.cloneClass),n.style.minHeight=h(g.offsetHeight),n.style.width="100%",function e(t,n){t.style.userSelect=n;let i=t.getElementsByTagName("*");for(let l of i)l.style.userSelect=n}(g,"none"),function e(t){let n=t.getSelection();n.rangeCount>0&&n.removeAllRanges()}(window),g.style.position="fixed",g.style.left=h(t.clientX-c),g.style.top=h(t.clientY-d),g.style.minWidth=h(r),g.style.minHeight=h(a),""!==e.draggingClass&&g.classList.add(e.draggingClass),g.setAttribute("data-dragging-item",""),g.insertAdjacentElement("beforebegin",n),e.onDragStart({item:g,event:t})}function m(o){if(g==t||(g.style.left=h(o.clientX-c),g.style.top=h(o.clientY-d),o.clientY<l.top+a&&i.scrollTop>0?b("goTop"):o.clientY>l.bottom-a&&i.scrollTop<i.scrollHeight-i.offsetHeight?b("goBottom"):(cancelAnimationFrame(r),r=null),null!==r))return;let u=document.elementsFromPoint(o.clientX,o.clientY),m=u.filter(e=>e.hasAttribute("data-drag-list"))[0];m&&m!==s&&(0==m.childElementCount&&m.insertAdjacentElement("afterbegin",n),m.insertAdjacentElement("afterbegin",g),l=(i=E(g.parentElement)).getBoundingClientRect(),s=m);let f=u.filter(e=>e.hasAttribute("data-drag-item")&&!e.classList.contains("dragging"))[0];if(f=u.filter(e=>e.hasAttribute("data-drag-item")&&!e.hasAttribute("data-dragging-item"))[0]){let p=f.hasAttribute("data-drag-disabled"),A=f.getBoundingClientRect(),v=A.top+A.height/2;if(o.clientY>=v){if(p&&f.nextElementSibling&&f.nextElementSibling.hasAttribute("data-drag-disabled"))return;f.insertAdjacentElement("afterend",n),f.insertAdjacentElement("afterend",g)}else if(o.clientY<v){if(p&&f.previousElementSibling&&f.previousElementSibling.hasAttribute("data-drag-disabled"))return;f.insertAdjacentElement("beforebegin",n),f.insertAdjacentElement("beforebegin",g)}}e.onDragMove({item:g,event:o})}function f(l){e.onDragBeforeEnd({item:g,event:l}),g.style="",g.classList.remove("dragging"),g.removeAttribute("data-dragging-item"),g=t,n.remove(),s=t,cancelAnimationFrame(r),i=t,r=null,e.onDragEnd({event:l})}function h(e){return`${e}px`}function E(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth?e:e==document.body?document.documentElement:E(e.parentElement)}function b(e){function t(){i.scrollTop+=("goTop"==e?-1:1)*o,r=requestAnimationFrame(t)}cancelAnimationFrame(r),r=requestAnimationFrame(t)}window.addEventListener("mousedown",u),window.addEventListener("mousemove",m),window.addEventListener("mouseup",f),window.addEventListener("touchstart",e=>u(e.touches[0])),window.addEventListener("touchmove",e=>m(e.touches[0])),window.addEventListener("touchend",f)}